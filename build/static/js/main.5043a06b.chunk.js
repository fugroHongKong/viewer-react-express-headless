(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(73)},37:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"GET_AGGREGATE_PROPERTIES",function(){return f});var o={};n.r(o),n.d(o,"getViewerProperties",function(){return b});var a=n(0),r=n.n(a),s=n(12),l=n.n(s),c=n(2),u=n(3),d=n(6),p=n(4),m=n(5),h=n(7),v=(n(37),n(16)),g=n(19),f="GET_AGGREGATE_PROPERTIES";function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:f,properties:e}}var y=n(15),O={properties:[]};var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.GET_AGGREGATE_PROPERTIES:var n=t.properties;return Object(v.a)({},e,{properties:n});default:return e}},k=Object(y.b)(E),w=k,L=n(31),N=n.n(L);var J,S,R,Y={accessToken:{getaccesstoken:function(){return N.a.get("/token").then(function(e){return e.data}).catch(function(e){console.log(e)})}}.getaccesstoken()},x=0,j=null,V=!1,T=!0,A=null,M=!1,X="";function C(e){Autodesk.Viewing.Document.load(e,function(e){var t=Autodesk.Viewing.Document.getSubItemsWithProperties(e.getRootItem(),{type:"geometry"},!0);t.length>0&&(t.forEach(function(e,t){}),J.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT,z),J.addEventListener(Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,Object(g.debounce)(function(){console.log("selection change"),new Promise(function(e,t){var n=J.getSelection()[0];return 1!==J.getSelectionCount()?t("Invalid selection count"):new Promise(function(e){J.model.getProperties(n,function(t){var n=t.properties.filter(function(e){return!e.hidden});e(n)})}).then(function(t){t=t.map(function(e){return Object(v.a)({},e,{displayCategory:e.displayCategory||"Miscellaneous"})});var n=Object(g.uniq)(t.map(function(e){return e.displayCategory})),i=n.map(function(e){return{category:e,data:t.filter(function(t){return t.displayCategory===e})}});e(i)})}).then(function(e){return k.dispatch(o.getViewerProperties(e))}).catch(function(){return k.dispatch(o.getViewerProperties([]))})}),200),J.load(e.getViewablePath(t[0])))},function(e){console.log(e)})}function z(e){var t=e.target;t.removeEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT,z),t.fitToView(),t.setQualityLevel(!1,!1)}function P(){J.resize()}function W(e){e||V?(cancelAnimationFrame(S),V=!1,e&&(x=0,J.explode(x))):(F(),V=!0)}function F(e){j||(j=e);var t=e-j;j=e;var n=2e-4*(t||0);T?x+=n:x-=n,x>1?(T=!1,x=1):x<0&&(T=!0,x=0),J.explode(x),S=window.requestAnimationFrame(F)}function D(e){A||(A=e);var t=e-A;A=e;var n=5e-4*(t||0),i=J.navigation.getWorldUpVector(),o=J.navigation.getPosition(),a=new THREE.Vector3(o.x,o.y,o.z),r=new THREE.Vector3(i.x,i.y,i.z),s=(new THREE.Matrix4).makeRotationAxis(r,n);a.applyMatrix4(s),J.navigation.setPosition(a),R=window.requestAnimationFrame(D)}function G(e){e||M?(cancelAnimationFrame(R),M=!1):(D(),M=!0)}var Z={launchViewer:function(e,t,n){X=n,Y.accessToken.then(function(n){var i={document:t,env:"AutodeskProduction",accessToken:n.access_token},o=document.getElementById(e);J=new Autodesk.Viewing.Viewer3D(o,{}),Autodesk.Viewing.Initializer(i,function(){J.initialize(),J.prefs.tag("ignore-producer"),C(i.document)})})},loadDocument:C},Q=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){Z.launchViewer("viewerDiv","urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6YXNpYXdvcmxkZXhwb18wMS9Bc2lhV29ybGQtRXhwb19QMDMubndk","0002")}},{key:"render",value:function(){return r.a.createElement("div",{className:"forge-viewer",id:"viewerDiv"})}}]),t}(a.Component),H=n(8),U=n.n(H),I=n(13),q=n.n(I),_=n(14),B=(n(67),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={collapsed:new Map},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"toggleProperty",value:function(e,t){t.preventDefault();var n=this.state.collapsed.get(e);this.setPropertyByIndex(e,!n)}},{key:"setPropertyByIndex",value:function(e,t){var n=this.state.collapsed;n.set(e,!0),this.setState({collapsed:n})}},{key:"componentDidMount",value:function(){1===this.props.properties.length&&this.setPropertyByIndex(0,!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props.properties;e.properties!==t&&1===t.length&&this.setPropertyByIndex(0,!0)}},{key:"render",value:function(){var e=this,t=this.state.collapsed;return r.a.createElement("div",{className:"model-properties"},r.a.createElement("div",null,r.a.createElement("button",{className:"close-btn",onClick:this.props.onClose},r.a.createElement("i",{className:"fa fa-close"})),r.a.createElement("h3",null,"Properties"),this.props.properties.length?null:r.a.createElement("p",null,r.a.createElement("em",null,"Select a part to get started")),r.a.createElement("div",null,r.a.createElement("div",null,this.props.properties.map(function(n,i){return r.a.createElement("ul",{key:i},r.a.createElement("div",null,r.a.createElement("h4",null,r.a.createElement("a",{"data-toggle":"collapse",onClick:e.toggleProperty.bind(e,i)},n.category))),t.get(i)?r.a.createElement("div",null,r.a.createElement("ul",null,n.data.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("strong",null,e.displayName,":")," ",e.displayValue)}))):null)})))))}}]),t}(a.Component)),K=Object(_.b)(function(e){return{properties:e.properties}})(B),$=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).handlePropertiesClose=function(){e.setState({properties:!1})},e.state={fullscreen:!1,explode:!1,expMotion:!1,rotMotion:!1,resetState:!1,properties:!1,value:0},e.onFullscreen=e.onFullscreen.bind(Object(h.a)(e)),e.onExplode=e.onExplode.bind(Object(h.a)(e)),e.onExplodeAnimation=e.onExplodeAnimation.bind(Object(h.a)(e)),e.onRotateAnimation=e.onRotateAnimation.bind(Object(h.a)(e)),e.onResetState=e.onResetState.bind(Object(h.a)(e)),e.onOrientationChange=e.onOrientationChange.bind(Object(h.a)(e)),e.onPropertiesDisplay=e.onPropertiesDisplay.bind(Object(h.a)(e)),e.handleValueChange=e.handleValueChange.bind(Object(h.a)(e)),e.onSelectionChange=e.onSelectionChange.bind(Object(h.a)(e)),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("orientationchange",this.onOrientationChange),this.onFullscreen(),this.onPropertiesDisplay()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("orientationchange",this.onOrientationChange)}},{key:"handleValueChange",value:function(e){var t;this.setState({value:e.target.value}),t=this.state.value/100,J.explode(t)}},{key:"onFullscreen",value:function(){this.setState({fullscreen:!0},function(){q()(0,0,{ease:"inQuad",duration:300}),document.body.classList.add("fullscreen"),setTimeout(function(){return P()},3e3)})}},{key:"onPropertiesDisplay",value:function(){this.setState({properties:!0},function(){document.body.classList.add("properties-show")})}},{key:"onExplode",value:function(){var e=this;this.setState({explode:!this.state.explode},function(){e.state.explode?document.body.classList.add("explode"):document.body.classList.remove("explode")})}},{key:"onOrientationChange",value:function(){setTimeout(function(){return P()},300)}},{key:"onExplodeAnimation",value:function(){var e=this;this.setState({expMotion:!this.state.expMotion},function(){e.state.expMotion?(document.body.classList.add("explode-motion"),W()):(document.body.classList.remove("explode-motion"),W())})}},{key:"onRotateAnimation",value:function(){var e=this;this.setState({rotMotion:!this.state.rotMotion},function(){e.state.rotMotion?(document.body.classList.add("rotate-motion"),G()):(document.body.classList.remove("rotate-motion"),G())})}},{key:"onResetState",value:function(){document.body.classList.remove("explode","explode-motion","rotate-motion"),this.setState({explode:!1,expMotion:!1,rotMotion:!1}),W(!0),G(!0),function(){var e="";switch(X){case"0001":e=JSON.parse('{"guid":"f075a989156eb711398","seedURN":"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1RpZV9GaWd0aGVyX1RveS5mM2Q","overrides":{"transformations":[]},"objectSet":[{"id":[],"isolated":[],"hidden":[],"explodeScale":0,"idType":"lmv"}],"viewport":{"name":"","eye":[145.8184640788883,93.51676504768685,-124.19785909734301],"target":[0,0,0.0000019073486328125],"up":[-0.3340034881841154,0.8986169812472194,0.28448056329910826],"worldUpVector":[0,1,0],"pivotPoint":[0,0,0.0000019073486328125],"distanceToOrbit":213.15139804714164,"aspectRatio":1.9929737351528332,"projection":"perspective","isOrthographic":false,"fieldOfView":61.92751520437556},"renderOptions":{"environment":"Rim Highlights","ambientOcclusion":{"enabled":false,"radius":10,"intensity":0.4},"toneMap":{"method":1,"exposure":-9,"lightMultiplier":-1e-20},"appearance":{"ghostHidden":true,"ambientShadow":false,"antiAliasing":true,"progressiveDisplay":true,"displayLines":true}},"cutplanes":[]}'),console.log("Restoring State for Tile:",X);break;case"0002":e=JSON.parse('{"guid":"f075a989156eb711397","seedURN":"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1JDJTIwQ2FyLmYzZA","overrides":{"transformations":[]},"objectSet":[{"id":[],"isolated":[],"hidden":[],"explodeScale":0,"idType":"lmv"}],"viewport":{"name":"","eye":[268.15901156738664,268.1590007567955,268.15899179720685],"target":[0,-0.0000019073486328125,-0.00000762939453125],"up":[0,1,0],"worldUpVector":[0,1,0],"pivotPoint":[0,-0.0000019073486328125,-0.00000762939453125],"distanceToOrbit":464.4650203923889,"aspectRatio":1.9409698157397892,"projection":"orthographic","isOrthographic":true,"orthographicHeight":464.46502039238896},"renderOptions":{"environment":"Rim Highlights","ambientOcclusion":{"enabled":false,"radius":10,"intensity":0.4},"toneMap":{"method":1,"exposure":-9,"lightMultiplier":-1e-20},"appearance":{"ghostHidden":true,"ambientShadow":false,"antiAliasing":true,"progressiveDisplay":true,"displayLines":true}},"cutplanes":[]}'),console.log("Restoring State for Tile:",X);break;case"0003":e=JSON.parse('{"guid":"f075a989156eb711399","seedURN":"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1RWUi00LUN5Y2wtZW5naW5lLmYzZA","overrides":{"transformations":[]},"objectSet":[{"id":[],"isolated":[],"hidden":[],"explodeScale":0,"idType":"lmv"}],"viewport":{"name":"","eye":[947.8717757705549,-947.8718237856292,947.8718169263327],"target":[0,0,0],"up":[0,1,0],"worldUpVector":[0,1,0],"pivotPoint":[0,0,0],"distanceToOrbit":1641.7621261779516,"aspectRatio":2.47171569916115,"projection":"orthographic","isOrthographic":true,"orthographicHeight":1641.7621261779514},"renderOptions":{"environment":"Rim Highlights","ambientOcclusion":{"enabled":false,"radius":10,"intensity":0.4},"toneMap":{"method":1,"exposure":-9,"lightMultiplier":-1e-20},"appearance":{"ghostHidden":true,"ambientShadow":false,"antiAliasing":true,"progressiveDisplay":true,"displayLines":true}},"cutplanes":[]}'),console.log("Restoring State for Tile:",X);break;case"0004":e=JSON.parse('{"guid":"f075a989156eb711400","seedURN":"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L0hvdXNlLmR3Zng","overrides":{"transformations":[]},"objectSet":[{"id":[],"isolated":[],"hidden":[],"explodeScale":0,"idType":"lmv"}],"viewport":{"name":"","eye":[-163.8662266489145,0,101.51004011675508],"target":[0,0,0],"up":[0,1,0],"worldUpVector":[0,1,0],"pivotPoint":[0,0,0],"distanceToOrbit":192.76002822332916,"aspectRatio":2.0663910331477187,"projection":"perspective","isOrthographic":false,"fieldOfView":46.48761986856245},"renderOptions":{"environment":"Rim Highlights","ambientOcclusion":{"enabled":false,"radius":7.3109139716724485,"intensity":0.4},"toneMap":{"method":1,"exposure":-9,"lightMultiplier":-1e-20},"appearance":{"ghostHidden":true,"ambientShadow":false,"antiAliasing":true,"progressiveDisplay":true,"displayLines":true}},"cutplanes":[]}'),console.log("Restoring State for Tile:",X);break;case"0005":e=JSON.parse('{"guid":"f075a989156eb711401","seedURN":"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1VyYmFuJTIwSG91c2UlMjAtJTIwMjAxNS5ydnQ","overrides":{"transformations":[]},"objectSet":[{"id":[],"isolated":[],"hidden":[],"explodeScale":0,"idType":"lmv"}],"viewport":{"name":"","eye":[71.29038959242611,-71.98501662992042,67.07221817123673],"target":[0,0,-0.0000019073486328125],"up":[0,0,1],"worldUpVector":[0,0,1],"pivotPoint":[0,0,-0.0000019073486328125],"distanceToOrbit":121.50244842685274,"aspectRatio":0.4481514231771144,"projection":"orthographic","isOrthographic":true,"orthographicHeight":121.50244842685272},"renderOptions":{"environment":"Rim Highlights","ambientOcclusion":{"enabled":false,"radius":5.211787184833593,"intensity":0.4},"toneMap":{"method":1,"exposure":-9,"lightMultiplier":-1e-20},"appearance":{"ghostHidden":true,"ambientShadow":false,"antiAliasing":true,"progressiveDisplay":true,"displayLines":true}},"cutplanes":[]}'),console.log("Restoring State for Tile:",X);break;case"0006":e=JSON.parse('{"guid":"f075a989156eb711402","seedURN":"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0LzNkRmFjdG9yeS5kd2Y","overrides":{"transformations":[]},"objectSet":[{"id":[],"isolated":[],"hidden":[],"explodeScale":0,"idType":"lmv"}],"viewport":{"name":"","eye":[74.02664223103163,-62.794491882241786,57.115458464302066],"target":[0,-9.5367431640625e-7,-2.384185791015625e-7],"up":[0,0,1],"worldUpVector":[0,0,1],"pivotPoint":[0,-9.5367431640625e-7,-2.384185791015625e-7],"distanceToOrbit":112.62889271319895,"aspectRatio":1.8124895442487394,"projection":"perspective","isOrthographic":false,"fieldOfView":28.656461643949527},"renderOptions":{"environment":"Rim Highlights","ambientOcclusion":{"enabled":false,"radius":2.7574370487702686,"intensity":0.4},"toneMap":{"method":1,"exposure":-9,"lightMultiplier":-1e-20},"appearance":{"ghostHidden":true,"ambientShadow":false,"antiAliasing":true,"progressiveDisplay":true,"displayLines":true}},"cutplanes":[]}'),console.log("Restoring State for Tile:",X);break;default:console.log("Sorry, no model selected")}J.restoreState(e,!1,!1)}()}},{key:"onSelectionChange",value:function(){this.state.properties}},{key:"render",value:function(){U()({fa:!0,"fa-expand":!this.state.fullscreen,"fa-compress":this.state.fullscreen}),U()({fa:!0,"fa-list":this.state.fullscreen});var e=U()({fa:!0,"fa-cubes":this.state.fullscreen}),t=U()({fa:!0,"fa-bomb":this.state.fullscreen}),n=U()({fa:!0,"fa-repeat":this.state.fullscreen}),i=U()({fa:!0,"fa-refresh":this.state.fullscreen}),o=(U()({"properties-btn":!0,"btn--active":this.state.properties,"btn--deactive":!this.state.properties}),U()({"explode-btn":!0,"btn--active":this.state.explode,"btn--deactive":!this.state.explode})),a=U()({"explode-motion-btn":!0,"expbtn--active":this.state.expMotion,"expbtn--deactive":!this.state.expMotion}),s=U()({"rotate-motion-btn":!0,"rotbtn--active":this.state.rotMotion,"rotbtn--deactive":!this.state.rotMotion}),l=U()({"reset-btn":!0,"resetbtn--deactive":!this.state.rotMotion});return r.a.createElement("div",{className:"forge-jumbotron"},r.a.createElement(Q,null),r.a.createElement("div",{className:"forge-logo"},r.a.createElement("img",{src:"images/wordmark-fugro-quantum-blue.png",alt:"Fugro (Hong Kong) Limited"})),r.a.createElement("div",{className:"container safari-only"},r.a.createElement("button",{className:o,onClick:this.onExplode},r.a.createElement("i",{className:e})),r.a.createElement("button",{className:a,onClick:this.onExplodeAnimation},r.a.createElement("i",{className:t})),r.a.createElement("button",{className:s,onClick:this.onRotateAnimation},r.a.createElement("i",{className:n})),r.a.createElement("button",{className:l,onClick:this.onResetState},r.a.createElement("i",{className:i})),this.state.properties?r.a.createElement(K,{onClose:this.handlePropertiesClose}):null,r.a.createElement("input",{type:"range",className:"range-style",min:"0",max:"100",value:this.state.value,onChange:this.handleValueChange})))}}]),t}(a.Component),ee=(n(68),a.Component,n(69),[{img:"images/tie-fighter.png",title:"Fusion Tie Fighter",key:"0001",urn:"urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1RpZV9GaWd0aGVyX1RveS5mM2Q"},{img:"images/fusion-rcar.png",title:"Fusion Race Car",key:"0002",urn:"urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1JDJTIwQ2FyLmYzZA"},{img:"images/fusion-engine.png",title:"Fusion Engine",key:"0003",urn:"urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1RWUi00LUN5Y2wtZW5naW5lLmYzZA"},{img:"images/revit-house.png",title:"Revit House",key:"0004",urn:"urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L0hvdXNlLmR3Zng"},{img:"images/urban-house.png",title:"Revit Urban House",key:"0005",urn:"urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1VyYmFuJTIwSG91c2UlMjAtJTIwMjAxNS5ydnQ"},{img:"images/revit-factory.png",title:"Revit Factory",key:"0006",urn:"urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0LzNkRmFjdG9yeS5kd2Y"}]),te=(a.Component,n(70),n(71),n(72),function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement($,null))}}]),t}(a.Component));l.a.render(r.a.createElement(_.a,{store:w},r.a.createElement(te,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.5043a06b.chunk.js.map