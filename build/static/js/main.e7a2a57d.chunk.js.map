{"version":3,"sources":["actions/viewerTypes.js","actions/viewerActions.js","reducers/viewerReducer.js","reducers/index.js","store.js","components/Client.js","components/Viewer/Viewer-helpers.js","components/Viewer/Viewer.js","components/Properties/Properties.js","components/Properties/index.js","components/Jumbotron/index.js","components/Jumbotron/Jumbotron.js","components/Gallery/Gallery.js","components/Footer/Footer.js","components/App.js","index.js"],"names":["GET_AGGREGATE_PROPERTIES","getViewerProperties","properties","arguments","length","undefined","type","types","initialState","viewerReducer","state","action","Object","objectSpread","store","createStore","reducers","viewer","explosionReq","rotationReq","getToken","accessToken","getaccesstoken","axios","get","then","response","data","catch","error","console","log","explodeScale","startExplosion","isExploding","outwardExplosion","startRotation","isRotating","tileId","loadDocument","documentId","Autodesk","Viewing","Document","load","doc","geometryItems","getSubItemsWithProperties","getRootItem","forEach","item","index","addEventListener","GEOMETRY_LOADED_EVENT","onGeometryLoaded","AGGREGATE_SELECTION_CHANGED_EVENT","debounce","Promise","resolve","reject","dbId","getSelection","getSelectionCount","model","getProperties","items","filter","property","hidden","list","map","displayCategory","categories","uniq","category","modelProperties","dispatch","actions","getViewablePath","errorMsg","event","target","removeEventListener","fitToView","setQualityLevel","viewerResize","resize","toggleExplosion","cancelMotion","cancelAnimationFrame","explode","explodeMotion","timestamp","progress","explodeStep","window","requestAnimationFrame","rotateMotion","rotateStep","worldUp","navigation","getWorldUpVector","pos","getPosition","position","THREE","Vector3","x","y","z","rAxis","matrix","Matrix4","makeRotationAxis","applyMatrix4","setPosition","toggleRotation","Helpers","launchViewer","div","urn","id","token","options","env","document","viewerElement","getElementById","Viewer3D","Initializer","initialize","prefs","tag","Viewer","react_default","a","createElement","className","Component","Properties","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","collapsed","Map","propertyIndex","evt","preventDefault","isCollapsed","setPropertyByIndex","set","setState","prevProps","_this2","onClick","onClose","i","key","data-toggle","toggleProperty","bind","itemIndex","displayName","displayValue","connect","Jumbotron","handlePropertiesClose","fullscreen","expMotion","rotMotion","resetState","value","onFullscreen","assertThisInitialized","onExplode","onExplodeAnimation","onRotateAnimation","onResetState","onOrientationChange","onPropertiesDisplay","handleValueChange","onSelectionChange","fullScreen","num","_this3","scrollTo","ease","duration","body","classList","add","remove","setTimeout","_this4","_this5","_this6","_this7","originalState","JSON","parse","restoreState","modelRestoreState","classnames","fa","fa-expand","fa-compress","propertiesClass","fa-list","explodeClass","fa-cubes","explodeMotionClass","fa-bomb","rotateMotionClass","fa-repeat","resetClass","fa-refresh","propertiesBtnClass","properties-btn","btn--active","btn--deactive","explodeBtnClass","explode-btn","explodeMotionBtnClass","explode-motion-btn","expbtn--active","expbtn--deactive","rotateMotionBtnClass","rotate-motion-btn","rotbtn--active","rotbtn--deactive","resetBtnClass","reset-btn","resetbtn--deactive","components_Viewer_Viewer","src","alt","components_Properties","min","max","onChange","tilesData","img","title","App","components_Jumbotron","ReactDOM","render","react_redux_es","src_components_App"],"mappings":"6dAAaA,EAA2B,2BCEjC,SAASC,IAAqC,IAAjBC,EAAiBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAE/C,MAAO,CACLG,KAAMC,EACNL,0BCJEM,EAAe,CACnBN,WAAY,ICFCO,MDKA,WAA8C,IAA9BC,EAA8BP,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBK,EAAcG,EAAQR,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC3D,OAAOM,EAAOL,MACZ,KAAKC,EAAMP,yBAAX,IACUE,EAAeS,EAAfT,WACR,OAAOU,OAAAC,EAAA,EAAAD,CAAA,GACFF,EADL,CAEER,eAEJ,QACE,OAAOQ,IEZAI,EAAQC,YAAYC,GAClBF,qBC0Bf,ICJIG,EAIAC,EAIAC,EAPAC,EAAW,CAACC,YDGD,CAAEC,eAVjB,WACC,OAAOC,IAAMC,IAAI,UACdC,KAAK,SAAUC,GACf,OAAOA,EAASC,OAElBC,MAAM,SAAUC,GACZC,QAAQC,IAAIF,OCCkBP,kBAChCU,EAAe,EACfC,EAAiB,KAEjBC,GAAc,EACdC,GAAmB,EACnBC,EAAgB,KAEhBC,GAAa,EACbC,EAAS,GA2Cb,SAASC,EAAaC,GAClBC,SAASC,QAAQC,SAASC,KACtBJ,EACA,SAAUK,GACN,IAAIC,EAAgBL,SAASC,QAAQC,SAASI,0BAA0BF,EAAIG,cAAe,CAAC1C,KAAQ,aAAa,GAC7GwC,EAAc1C,OAAS,IACvB0C,EAAcG,QAAQ,SAAUC,EAAMC,MAEtClC,EAAOmC,iBAAiBX,SAASC,QAAQW,sBAAuBC,GAChErC,EAAOmC,iBAAiBX,SAASC,QAAQa,kCAAmCC,mBAAS,WACjF1B,QAAQC,IAAI,oBAmCrB,IAAI0B,QAAQ,SAACC,EAASC,GACzB,IAAMC,EAAO3C,EAAO4C,eAAe,GAEnC,OAAmC,IAA/B5C,EAAO6C,oBACAH,EAAO,2BAGX,IAAIF,QAAQ,SAACC,GAChBzC,EAAO8C,MAAMC,cAAcJ,EAAM,SAACV,GAC9B,IAAMe,EAAQf,EAAKhD,WAAWgE,OAAO,SAACC,GAAD,OAAeA,EAASC,SAC7DV,EAAQO,OAGXxC,KAAK,SAAC4C,GAGHA,EAAOA,EAAKC,IAAI,SAAApB,GAAI,OAAAtC,OAAAC,EAAA,EAAAD,CAAA,GACbsC,EADa,CAEhBqB,gBAAiBrB,EAAKqB,iBAAmB,oBAI7C,IAAMC,EAAaC,eAAKJ,EAAKC,IAAI,SAAApB,GAAI,OAAIA,EAAKqB,mBAIxCrE,EAAasE,EAAWF,IAAI,SAAAI,GAAQ,MACtC,CACIA,WACA/C,KAAM0C,EAAKH,OAAO,SAAAhB,GAAI,OAAIA,EAAKqB,kBAAoBG,OAI3DhB,EAAQxD,OAlECuB,KAAK,SAACkD,GAAD,OACF7D,EAAM8D,SAASC,EAAQ5E,oBAAoB0E,MAE9C/C,MAAM,kBACHd,EAAM8D,SAASC,EAAQ5E,oBAAoB,SAEnD,KAEJgB,EAAO2B,KAAKC,EAAIiC,gBAAgBhC,EAAc,OAGtD,SAAUiC,GACNjD,QAAQC,IAAIgD,KAUxB,SAASzB,EAAiB0B,GACtB,IAAI/D,EAAS+D,EAAMC,OACnBhE,EAAOiE,oBACHzC,SAASC,QAAQW,sBACjBC,GACJrC,EAAOkE,YACPlE,EAAOmE,iBAAgB,GAAO,GA2C3B,SAASC,IACZpE,EAAOqE,SA+CJ,SAASC,EAAgBC,GACxBA,GAAgBtD,GAChBuD,qBAAqBvE,GACrBgB,GAAc,EACVsD,IACAxD,EAAe,EACff,EAAOyE,QAAQ1D,MAGnB2D,IACAzD,GAAc,GAQf,SAASyD,EAAcC,GACrB3D,IACDA,EAAiB2D,GAErB,IAAIC,EAAWD,EAAY3D,EAC3BA,EAAiB2D,EACjB,IAAIE,EAAc,MAAUD,GAAY,GAEpC1D,EACAH,GAAgB8D,EAEhB9D,GAAgB8D,EAEhB9D,EAAe,GACfG,GAAmB,EACnBH,EAAe,GACRA,EAAe,IACtBG,GAAmB,EACnBH,EAAe,GAEnBf,EAAOyE,QAAQ1D,GACfd,EAAe6E,OAAOC,sBAAsBL,GAMzC,SAASM,EAAaL,GACpBxD,IACDA,EAAgBwD,GAEpB,IAAIC,EAAWD,EAAYxD,EAC3BA,EAAgBwD,EAChB,IAAIM,EAAa,MAAUL,GAAY,GAEnCM,EAAUlF,EAAOmF,WAAWC,mBAE5BC,EAAMrF,EAAOmF,WAAWG,cAExBC,EAAW,IAAIC,MAAMC,QAAQJ,EAAIK,EAAGL,EAAIM,EAAGN,EAAIO,GAE/CC,EAAQ,IAAIL,MAAMC,QAAQP,EAAQQ,EAAGR,EAAQS,EAAGT,EAAQU,GACxDE,GAAS,IAAIN,MAAMO,SAAUC,iBAAiBH,EAAOZ,GAEzDM,EAASU,aAAaH,GACtB9F,EAAOmF,WAAWe,YAAYX,GAC9BrF,EAAc4E,OAAOC,sBAAsBC,GAQxC,SAASmB,EAAe5B,GACvBA,GAAgBnD,GAChBoD,qBAAqBtE,GACrBkB,GAAa,IAEb4D,IACA5D,GAAa,GAUrB,IAKegF,EALC,CACZC,aAnQJ,SAAsBC,EAAKC,EAAKC,GAC5BnF,EAASmF,EACTrG,EAASC,YAAYI,KAAK,SAACiG,GAQvB,IAAIC,EAAU,CACVC,IAAO,QACPC,SAAY,2BAGZC,EAAgBD,SAASE,eAAeR,GAC5CtG,EAAS,IAAIwB,SAASC,QAAQsF,SAASF,EAAe,IAEtDrF,SAASC,QAAQuF,YACbN,EACA,WACI1G,EAAOiH,aACPjH,EAAOkH,MAAMC,IAAI,mBACjB7F,EAAaoF,EAAQE,eA6OjCtF,gBCvQW8F,8LAVPhB,EAAQC,aAAa,YADJ,+FAC8B,yCAI/C,OACIgB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAehB,GAAG,qBAXxBiB,sDCCfC,qBACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAjI,OAAAkI,EAAA,EAAAlI,CAAAmI,KAAAJ,IACjBE,EAAAjI,OAAAoI,EAAA,EAAApI,CAAAmI,KAAAnI,OAAAqI,EAAA,EAAArI,CAAA+H,GAAAO,KAAAH,KAAMH,KAEDlI,MAAQ,CACXyI,UAAW,IAAIC,KAJAP,8EASJQ,EAAeC,GAC5BA,EAAIC,iBAD6B,IAG3BC,EADgBT,KAAKrI,MAAnByI,UACsB3H,IAAI6H,GAElCN,KAAKU,mBAAmBJ,GAAgBG,8CAGvBrG,EAAOqG,GAAa,IAC7BL,EAAcJ,KAAKrI,MAAnByI,UACRA,EAAUO,IAAIvG,GAAO,GACrB4F,KAAKY,SAAS,CAAER,0DAIqB,IAAjCJ,KAAKH,MAAM1I,WAAWE,QACxB2I,KAAKU,mBAAmB,GAAG,8CAIZG,GAAW,IACpB1J,EAAe6I,KAAKH,MAApB1I,WAGJ0J,EAAU1J,aAAeA,GAIH,IAAtBA,EAAWE,QACb2I,KAAKU,mBAAmB,GAAG,oCAKvB,IAAAI,EAAAd,KACCI,EAAaJ,KAAKrI,MAAlByI,UAET,OACEb,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQC,UAAU,YAAYqB,QAASf,KAAKH,MAAMmB,SAASzB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iBACxEH,EAAAC,EAAAC,cAAA,wBAEEO,KAAKH,MAAM1I,WAAWE,OAEpB,KADAkI,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,2CAGPF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACGO,KAAKH,MAAM1I,WAAWoE,IAAI,SAACH,EAAU6F,GAAX,OAC1B1B,EAAAC,EAAAC,cAAA,MAAIyB,IAAKD,GACT1B,EAAAC,EAAAC,cAAA,WACGF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,KAAG0B,cAAY,WAAWJ,QAASD,EAAKM,eAAeC,KAAKP,EAAMG,IAAK7F,EAASO,YAIhFyE,EAAU3H,IAAIwI,GAEV1B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UACKrE,EAASxC,KAAK2C,IAAI,SAACpB,EAAMmH,GAAP,OACjB/B,EAAAC,EAAAC,cAAA,MAAIyB,IAAKI,GACP/B,EAAAC,EAAAC,cAAA,cAAStF,EAAKoH,YAAd,KADF,IACwCpH,EAAKqH,kBAMrD,mBA/EG7B,cCpBVC,EDiHa6B,YAC1B,SAAA9J,GAAK,MAAK,CAAER,WAAYQ,EAAMR,aADJsK,CAE1B7B,GEnHa8B,cCiCX,SAAAA,IAAc,IAAA5B,EAAA,OAAAjI,OAAAkI,EAAA,EAAAlI,CAAAmI,KAAA0B,IACV5B,EAAAjI,OAAAoI,EAAA,EAAApI,CAAAmI,KAAAnI,OAAAqI,EAAA,EAAArI,CAAA6J,GAAAvB,KAAAH,QAkJJ2B,sBAAwB,WACpB7B,EAAKc,SAAS,CAACzJ,YAAY,KAjJ3B2I,EAAKnI,MAAQ,CACTiK,YAAY,EACZjF,SAAS,EACTkF,WAAW,EACXC,WAAW,EACXC,YAAY,EACZ5K,YAAY,EACZ6K,MAAO,GAGXlC,EAAKmC,aAAenC,EAAKmC,aAAaZ,KAAlBxJ,OAAAqK,EAAA,EAAArK,CAAAiI,IACpBA,EAAKqC,UAAYrC,EAAKqC,UAAUd,KAAfxJ,OAAAqK,EAAA,EAAArK,CAAAiI,IACjBA,EAAKsC,mBAAqBtC,EAAKsC,mBAAmBf,KAAxBxJ,OAAAqK,EAAA,EAAArK,CAAAiI,IAC1BA,EAAKuC,kBAAoBvC,EAAKuC,kBAAkBhB,KAAvBxJ,OAAAqK,EAAA,EAAArK,CAAAiI,IACzBA,EAAKwC,aAAexC,EAAKwC,aAAajB,KAAlBxJ,OAAAqK,EAAA,EAAArK,CAAAiI,IACpBA,EAAKyC,oBAAsBzC,EAAKyC,oBAAoBlB,KAAzBxJ,OAAAqK,EAAA,EAAArK,CAAAiI,IAC3BA,EAAK0C,oBAAsB1C,EAAK0C,oBAAoBnB,KAAzBxJ,OAAAqK,EAAA,EAAArK,CAAAiI,IAC3BA,EAAK2C,kBAAoB3C,EAAK2C,kBAAkBpB,KAAvBxJ,OAAAqK,EAAA,EAAArK,CAAAiI,IACzBA,EAAK4C,kBAAoB5C,EAAK4C,kBAAkBrB,KAAvBxJ,OAAAqK,EAAA,EAAArK,CAAAiI,IArBfA,mFAwBM,IAAAgB,EAAAd,KAChBhD,OAAO3C,iBAAiB,oBAAqB2F,KAAKuC,qBAElDvC,KAAKY,SAAS,CACV+B,YAAY,EACZxL,YAAY,GACb,WACC2J,EAAKmB,eACLnB,EAAK0B,uEAKTxF,OAAOb,oBAAoB,oBAAqB6D,KAAKuC,+DAGvCtG,GL2Ff,IAAuB2G,EK1FtB5C,KAAKY,SAAS,CACVoB,MAAO/F,EAAMC,OAAO8F,QLyFFY,EKvFR5C,KAAKrI,MAAMqK,MAAQ,ILwFrC9J,EAAOyE,QAAQiG,0CKpFA,IAAAC,EAAA7C,KACXA,KAAKY,SAAS,CAACgB,YAAa5B,KAAKrI,MAAMiK,YAAa,WAE5CiB,EAAKlL,MAAMiK,YACXkB,IAAS,EAAG,EAAG,CACXC,KAAM,SACNC,SAAU,MAEdlE,SAASmE,KAAKC,UAAUC,IAAI,gBAE5BrE,SAASmE,KAAKC,UAAUE,OAAO,cAC/BP,EAAKP,eACDO,EAAKlL,MAAMgF,SACXmC,SAASmE,KAAKC,UAAUE,OAAO,WAGnCP,EAAKjC,SAAS,CACVgB,YAAY,EACZjF,SAAS,EACTkF,WAAW,EACXC,WAAW,EACXC,YAAY,EACZ5K,YAAY,EACZ6K,MAAO,KAMfqB,WAAW,kBAAM/G,KAAgB,qDAInB,IAAAgH,EAAAtD,KAClBA,KAAKY,SAAS,CAACzJ,YAAa6I,KAAKrI,MAAMR,YAAa,WAC5CmM,EAAK3L,MAAMR,WACX2H,SAASmE,KAAKC,UAAUC,IAAI,mBAE5BrE,SAASmE,KAAKC,UAAUE,OAAO,yDAK/B,IAAAG,EAAAvD,KACRA,KAAKY,SAAS,CAACjE,SAAUqD,KAAKrI,MAAMgF,SAAU,WACtC4G,EAAK5L,MAAMgF,QACXmC,SAASmE,KAAKC,UAAUC,IAAI,WAE5BrE,SAASmE,KAAKC,UAAUE,OAAO,2DAMvCC,WAAW,kBAAM/G,KAAgB,kDAIhB,IAAAkH,EAAAxD,KACjBA,KAAKY,SAAS,CAACiB,WAAY7B,KAAKrI,MAAMkK,WAAY,WAC1C2B,EAAK7L,MAAMkK,WACX/C,SAASmE,KAAKC,UAAUC,IAAI,kBAC5B3G,MAEAsC,SAASmE,KAAKC,UAAUE,OAAO,kBAC/B5G,mDAKQ,IAAAiH,EAAAzD,KAChBA,KAAKY,SAAS,CAACkB,WAAY9B,KAAKrI,MAAMmK,WAAY,WAC1C2B,EAAK9L,MAAMmK,WACXhD,SAASmE,KAAKC,UAAUC,IAAI,iBAC5B9E,MAEAS,SAASmE,KAAKC,UAAUE,OAAO,iBAC/B/E,8CAMRS,SAASmE,KAAKC,UAAUE,OAAO,UAAW,iBAAkB,iBAC5DpD,KAAKY,SAAS,CAACjE,SAAS,EAAOkF,WAAW,EAAOC,WAAW,IL8HhEtF,GAAgB,GAChB6B,GAAe,GA5HZ,WACH,IAAIqF,EAAgB,GAEpB,OAAQnK,GACJ,IAAK,OACDmK,EAAgBC,KAAKC,MAAM,28BAC3B7K,QAAQC,IAAI,4BAA6BO,GACzC,MACJ,IAAK,OACDmK,EAAgBC,KAAKC,MAAM,47BAC3B7K,QAAQC,IAAI,4BAA6BO,GACzC,MACJ,IAAK,OACDmK,EAAgBC,KAAKC,MAAM,s3BAC3B7K,QAAQC,IAAI,4BAA6BO,GACzC,MACJ,IAAK,OACDmK,EAAgBC,KAAKC,MAAM,k2BAC3B7K,QAAQC,IAAI,4BAA6BO,GACzC,MACJ,IAAK,OACDmK,EAAgBC,KAAKC,MAAM,07BAC3B7K,QAAQC,IAAI,4BAA6BO,GACzC,MACJ,IAAK,OACDmK,EAAgBC,KAAKC,MAAM,o8BAC3B7K,QAAQC,IAAI,4BAA6BO,GACzC,MACJ,QACIR,QAAQC,IAAI,4BAIpBd,EAAO2L,aAAaH,GAAe,GAAO,GKlCtCI,+CAIK9D,KAAKrI,MAAMR,4CAeI4M,IAAW,CAC3BC,IAAM,EACNC,aAAcjE,KAAKrI,MAAMiK,WACzBsC,cAAelE,KAAKrI,MAAMiK,aAH9B,IAMMuC,EAAkBJ,IAAW,CAC/BC,IAAM,EACNI,UAAWpE,KAAKrI,MAAMiK,aAGpByC,EAAeN,IAAW,CAC5BC,IAAM,EACNM,WAAYtE,KAAKrI,MAAMiK,aAGrB2C,EAAqBR,IAAW,CAClCC,IAAM,EACNQ,UAAWxE,KAAKrI,MAAMiK,aAGpB6C,EAAoBV,IAAW,CACjCC,IAAM,EACNU,YAAa1E,KAAKrI,MAAMiK,aAGtB+C,EAAaZ,IAAW,CAC1BC,IAAM,EACNY,aAAc5E,KAAKrI,MAAMiK,aAGvBiD,EAAqBd,IAAW,CAClCe,kBAAkB,EAClBC,cAAe/E,KAAKrI,MAAMR,WAC1B6N,iBAAkBhF,KAAKrI,MAAMR,aAG3B8N,EAAkBlB,IAAW,CAC/BmB,eAAe,EACfH,cAAe/E,KAAKrI,MAAMgF,QAC1BqI,iBAAkBhF,KAAKrI,MAAMgF,UAG3BwI,EAAwBpB,IAAW,CACrCqB,sBAAsB,EACtBC,iBAAkBrF,KAAKrI,MAAMkK,UAC7ByD,oBAAqBtF,KAAKrI,MAAMkK,YAG9B0D,EAAuBxB,IAAW,CACpCyB,qBAAqB,EACrBC,iBAAkBzF,KAAKrI,MAAMmK,UAC7B4D,oBAAqB1F,KAAKrI,MAAMmK,YAG9B6D,EAAgB5B,IAAW,CAC7B6B,aAAa,EACbC,sBAAuB7F,KAAKrI,MAAMmK,YAGtC,OACIvC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,EAAAC,cAACqG,EAAD,MACAvG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAEXH,EAAAC,EAAAC,cAAA,OAAKsG,IAAI,yCAAyCC,IAAI,+BAE1DzG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBAIXH,EAAAC,EAAAC,cAAA,UAAQC,UAAWmF,EAAoB9D,QAASf,KAAKwC,qBACjDjD,EAAAC,EAAAC,cAAA,KAAGC,UAAWyE,KAElB5E,EAAAC,EAAAC,cAAA,UAAQC,UAAWuF,EAAiBlE,QAASf,KAAKmC,WAC9C5C,EAAAC,EAAAC,cAAA,KAAGC,UAAW2E,KAElB9E,EAAAC,EAAAC,cAAA,UAAQC,UAAWyF,EAAuBpE,QAASf,KAAKoC,oBACpD7C,EAAAC,EAAAC,cAAA,KAAGC,UAAW6E,KAElBhF,EAAAC,EAAAC,cAAA,UAAQC,UAAW6F,EAAsBxE,QAASf,KAAKqC,mBACnD9C,EAAAC,EAAAC,cAAA,KAAGC,UAAW+E,KAElBlF,EAAAC,EAAAC,cAAA,UAAQC,UAAWiG,EAAe5E,QAASf,KAAKsC,cAC5C/C,EAAAC,EAAAC,cAAA,KAAGC,UAAWiF,KAId3E,KAAKrI,MAAMR,WACLoI,EAAAC,EAAAC,cAACwG,EAAD,CAAYjF,QAAShB,KAAK2B,wBAC1B,KAGVpC,EAAAC,EAAAC,cAAA,SAAOlI,KAAK,QACLmI,UAAU,cACVwG,IAAI,IACJC,IAAI,MACJnE,MAAOhC,KAAKrI,MAAMqK,MAClBoE,SAAUpG,KAAKyC,6BA7PlB9C,aCLlB0G,UCPe1G,kBDOH,CAChB,CACE2G,IAAK,yBACLC,MAAO,qBACPrF,IAAK,OACLzC,IAAI,+FAEN,CACE6H,IAAK,yBACLC,MAAO,kBACPrF,IAAK,OACLzC,IAAK,sFAEP,CACE6H,IAAK,2BACLC,MAAO,gBACPrF,IAAK,OACLzC,IAAK,kGAGP,CACE6H,IAAK,yBACLC,MAAO,cACPrF,IAAK,OACLzC,IAAK,mFAGP,CACE6H,IAAK,yBACLC,MAAO,oBACPrF,IAAK,OACLzC,IAAK,2GAEP,CACE6H,IAAK,2BACLC,MAAO,gBACPrF,IAAK,OACLzC,IAAK,yFEzBM+H,IF8BO7G,+ME1Cd,OACIJ,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACgH,EAAD,cAJE9G,cCFlB+G,IAASC,OAELpH,EAAAC,EAAAC,cAACmH,EAAA,EAAD,CAAU7O,MAAOA,GACfwH,EAAAC,EAAAC,cAACoH,GAAD,OAGJ/H,SAASE,eAAe","file":"static/js/main.e7a2a57d.chunk.js","sourcesContent":["export const GET_AGGREGATE_PROPERTIES = 'GET_AGGREGATE_PROPERTIES';","import * as types from './viewerTypes';\r\n\r\nexport function getViewerProperties(properties = []) {\r\n  //console.log('action', properties)\r\n  return {\r\n    type: types.GET_AGGREGATE_PROPERTIES,\r\n    properties,\r\n  }\r\n}\r\n","import { types } from '../actions';\r\n\r\nconst initialState = {\r\n  properties: []\r\n};\r\n\r\nexport default function viewer(state = initialState, action) {\r\n  switch(action.type) {\r\n    case types.GET_AGGREGATE_PROPERTIES:\r\n      const { properties } = action;\r\n      return {\r\n        ...state,\r\n        properties,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import viewerReducer from './viewerReducer';\r\nexport default viewerReducer;\r\n","import { createStore } from 'redux';\r\nimport reducers from './reducers';\r\n\r\nexport const store = createStore(reducers);\r\nexport default store;","/////////////////////////////////////////////////////////////////////////////////\r\n// Copyright (c) Autodesk, Inc. All rights reserved\r\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\r\n//\r\n// Permission to use, copy, modify, and distribute this software in\r\n// object code form for any purpose and without fee is hereby granted,\r\n// provided that the above copyright notice appears in all copies and\r\n// that both that copyright notice and the limited warranty and\r\n// restricted rights notice below appear in all supporting\r\n// documentation.\r\n//\r\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\r\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\r\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\r\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\r\n// UNINTERRUPTED OR ERROR FREE.\r\n/////////////////////////////////////////////////////////////////////////////////\r\n\r\nimport axios from 'axios';\r\n\r\nfunction getaccesstoken() {\r\n\treturn axios.get('/token')\r\n  \t.then(function (response) {\r\n  \t\treturn response.data;\r\n  \t})\r\n\t.catch(function (error) {\r\n   \t \tconsole.log(error);\r\n  \t});\r\n}\r\n\r\nconst Client = { getaccesstoken };\r\nexport default Client;","/////////////////////////////////////////////////////////////////////////////////\r\n// Copyright (c) Autodesk, Inc. All rights reserved\r\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\r\n//\r\n// Permission to use, copy, modify, and distribute this software in\r\n// object code form for any purpose and without fee is hereby granted,\r\n// provided that the above copyright notice appears in all copies and\r\n// that both that copyright notice and the limited warranty and\r\n// restricted rights notice below appear in all supporting\r\n// documentation.\r\n//\r\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\r\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\r\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\r\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\r\n// UNINTERRUPTED OR ERROR FREE.\r\n/////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n/* global Autodesk, THREE */\r\nimport {debounce, uniq} from 'lodash';\r\nimport {actions} from '../../actions';\r\nimport {store} from '../../store';\r\n\r\nimport Client from '../Client';\r\n\r\nvar viewer;\r\nvar getToken = {accessToken: Client.getaccesstoken()};\r\nvar explodeScale = 0;\r\nvar startExplosion = null;\r\nvar explosionReq;\r\nvar isExploding = false;\r\nvar outwardExplosion = true;\r\nvar startRotation = null;\r\nvar rotationReq;\r\nvar isRotating = false;\r\nvar tileId = '';\r\nexport var properties = {};\r\n\r\n\r\nfunction launchViewer(div, urn, id) {\r\n    tileId = id;\r\n    getToken.accessToken.then((token) => {\r\n        // var options = {\r\n        //   'document': urn,\r\n        //   'env': 'AutodeskProduction',\r\n        //   'accessToken': token.access_token\r\n        //   // 'refreshToken': getForgeToken\r\n        // };\r\n\r\n        var options = {\r\n            'env': 'Local',\r\n            'document': './AsiaWorldExpo/0/0.svf'\r\n        };\r\n\r\n        var viewerElement = document.getElementById(div);\r\n        viewer = new Autodesk.Viewing.Viewer3D(viewerElement, {});\r\n\r\n        Autodesk.Viewing.Initializer(\r\n            options,\r\n            function () {\r\n                viewer.initialize();\r\n                viewer.prefs.tag('ignore-producer')\r\n                loadDocument(options.document);\r\n            }\r\n        );\r\n    })\r\n\r\n    // var myViewerDiv = document.getElementById('MyViewerDiv');\r\n    // var viewer = new Autodesk.Viewing.Private.GuiViewer3D(myViewerDiv);\r\n    // var options = {\r\n    //     'env' : 'Local',\r\n    //     'document' : './shaver/0.svf'\r\n    // };\r\n    // Autodesk.Viewing.Initializer(options, function() {\r\n    //     viewer.start(options.document, options);\r\n    // });\r\n}\r\n\r\nfunction loadDocument(documentId) {\r\n    Autodesk.Viewing.Document.load(\r\n        documentId,\r\n        function (doc) { // onLoadCallback\r\n            var geometryItems = Autodesk.Viewing.Document.getSubItemsWithProperties(doc.getRootItem(), {'type': 'geometry'}, true);\r\n            if (geometryItems.length > 0) {\r\n                geometryItems.forEach(function (item, index) {\r\n                });\r\n                viewer.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT, onGeometryLoaded);\r\n                viewer.addEventListener(Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT, debounce(() => {\r\n                    console.log('selection change')\r\n                    getModelProperties()\r\n                        .then((modelProperties) =>\r\n                            store.dispatch(actions.getViewerProperties(modelProperties))\r\n                        )\r\n                        .catch(() =>\r\n                            store.dispatch(actions.getViewerProperties([]))\r\n                        )\r\n                }), 200);\r\n\r\n                viewer.load(doc.getViewablePath(geometryItems[0])); // show 1st view on this document...\r\n            }\r\n        },\r\n        function (errorMsg) { // onErrorCallback\r\n            console.log(errorMsg);\r\n        }\r\n    )\r\n}\r\n\r\n\r\n//////////////////////////////////////////////////////////////////////////\r\n// Model Geometry loaded callback\r\n//\r\n//////////////////////////////////////////////////////////////////////////\r\nfunction onGeometryLoaded(event) {\r\n    var viewer = event.target;\r\n    viewer.removeEventListener(\r\n        Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\r\n        onGeometryLoaded);\r\n    viewer.fitToView();\r\n    viewer.setQualityLevel(false, false); // Getting rid of Ambientshadows to false to avoid blackscreen problem in Viewer.\r\n}\r\n\r\n\r\nfunction getModelProperties() {\r\n    return new Promise((resolve, reject) => {\r\n        const dbId = viewer.getSelection()[0];\r\n\r\n        if (viewer.getSelectionCount() !== 1) {\r\n            return reject('Invalid selection count');\r\n        }\r\n\r\n        return new Promise((resolve) => {\r\n            viewer.model.getProperties(dbId, (item) => {\r\n                const items = item.properties.filter((property) => !property.hidden);\r\n                resolve(items);\r\n            });\r\n        })\r\n            .then((list) => {\r\n\r\n                // Normalize displayCategory property in case it's falsy\r\n                list = list.map(item => ({\r\n                    ...item,\r\n                    displayCategory: item.displayCategory || 'Miscellaneous'\r\n                }));\r\n\r\n                // Unique list of categories\r\n                const categories = uniq(list.map(item => item.displayCategory));\r\n\r\n                // Model data to be consumed\r\n                // Ex: [ {category: 'Miscellaneous', data: []} ]\r\n                const properties = categories.map(category => (\r\n                    {\r\n                        category,\r\n                        data: list.filter(item => item.displayCategory === category)\r\n                    }\r\n                ));\r\n\r\n                resolve(properties);\r\n            });\r\n    });\r\n}\r\n\r\nexport function viewerResize() {\r\n    viewer.resize();\r\n}\r\n\r\nexport function viewerExplode(num) {\r\n    viewer.explode(num);\r\n}\r\n\r\nexport function modelRestoreState() {\r\n    var originalState = \"\";\r\n\r\n    switch (tileId) {\r\n        case \"0001\":\r\n            originalState = JSON.parse('{\"guid\":\"f075a989156eb711398\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1RpZV9GaWd0aGVyX1RveS5mM2Q\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[145.8184640788883,93.51676504768685,-124.19785909734301],\"target\":[0,0,0.0000019073486328125],\"up\":[-0.3340034881841154,0.8986169812472194,0.28448056329910826],\"worldUpVector\":[0,1,0],\"pivotPoint\":[0,0,0.0000019073486328125],\"distanceToOrbit\":213.15139804714164,\"aspectRatio\":1.9929737351528332,\"projection\":\"perspective\",\"isOrthographic\":false,\"fieldOfView\":61.92751520437556},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":10,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\r\n            console.log(\"Restoring State for Tile:\", tileId);\r\n            break;\r\n        case \"0002\":\r\n            originalState = JSON.parse('{\"guid\":\"f075a989156eb711397\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1JDJTIwQ2FyLmYzZA\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[268.15901156738664,268.1590007567955,268.15899179720685],\"target\":[0,-0.0000019073486328125,-0.00000762939453125],\"up\":[0,1,0],\"worldUpVector\":[0,1,0],\"pivotPoint\":[0,-0.0000019073486328125,-0.00000762939453125],\"distanceToOrbit\":464.4650203923889,\"aspectRatio\":1.9409698157397892,\"projection\":\"orthographic\",\"isOrthographic\":true,\"orthographicHeight\":464.46502039238896},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":10,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\r\n            console.log(\"Restoring State for Tile:\", tileId);\r\n            break;\r\n        case \"0003\":\r\n            originalState = JSON.parse('{\"guid\":\"f075a989156eb711399\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1RWUi00LUN5Y2wtZW5naW5lLmYzZA\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[947.8717757705549,-947.8718237856292,947.8718169263327],\"target\":[0,0,0],\"up\":[0,1,0],\"worldUpVector\":[0,1,0],\"pivotPoint\":[0,0,0],\"distanceToOrbit\":1641.7621261779516,\"aspectRatio\":2.47171569916115,\"projection\":\"orthographic\",\"isOrthographic\":true,\"orthographicHeight\":1641.7621261779514},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":10,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\r\n            console.log(\"Restoring State for Tile:\", tileId);\r\n            break;\r\n        case \"0004\":\r\n            originalState = JSON.parse('{\"guid\":\"f075a989156eb711400\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L0hvdXNlLmR3Zng\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[-163.8662266489145,0,101.51004011675508],\"target\":[0,0,0],\"up\":[0,1,0],\"worldUpVector\":[0,1,0],\"pivotPoint\":[0,0,0],\"distanceToOrbit\":192.76002822332916,\"aspectRatio\":2.0663910331477187,\"projection\":\"perspective\",\"isOrthographic\":false,\"fieldOfView\":46.48761986856245},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":7.3109139716724485,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\r\n            console.log(\"Restoring State for Tile:\", tileId);\r\n            break;\r\n        case \"0005\":\r\n            originalState = JSON.parse('{\"guid\":\"f075a989156eb711401\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1VyYmFuJTIwSG91c2UlMjAtJTIwMjAxNS5ydnQ\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[71.29038959242611,-71.98501662992042,67.07221817123673],\"target\":[0,0,-0.0000019073486328125],\"up\":[0,0,1],\"worldUpVector\":[0,0,1],\"pivotPoint\":[0,0,-0.0000019073486328125],\"distanceToOrbit\":121.50244842685274,\"aspectRatio\":0.4481514231771144,\"projection\":\"orthographic\",\"isOrthographic\":true,\"orthographicHeight\":121.50244842685272},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":5.211787184833593,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\r\n            console.log(\"Restoring State for Tile:\", tileId);\r\n            break;\r\n        case \"0006\":\r\n            originalState = JSON.parse('{\"guid\":\"f075a989156eb711402\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0LzNkRmFjdG9yeS5kd2Y\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[74.02664223103163,-62.794491882241786,57.115458464302066],\"target\":[0,-9.5367431640625e-7,-2.384185791015625e-7],\"up\":[0,0,1],\"worldUpVector\":[0,0,1],\"pivotPoint\":[0,-9.5367431640625e-7,-2.384185791015625e-7],\"distanceToOrbit\":112.62889271319895,\"aspectRatio\":1.8124895442487394,\"projection\":\"perspective\",\"isOrthographic\":false,\"fieldOfView\":28.656461643949527},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":2.7574370487702686,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\r\n            console.log(\"Restoring State for Tile:\", tileId);\r\n            break;\r\n        default:\r\n            console.log(\"Sorry, no model selected\");\r\n    }\r\n\r\n\r\n    viewer.restoreState(originalState, false, false);\r\n}\r\n\r\n/**\r\n * toggle explosion motion\r\n * @param  boolean cancelMotion - true if cancel motion is requested\r\n */\r\nexport function toggleExplosion(cancelMotion) {\r\n    if (cancelMotion || isExploding) {\r\n        cancelAnimationFrame(explosionReq);\r\n        isExploding = false;\r\n        if (cancelMotion) {\r\n            explodeScale = 0;\r\n            viewer.explode(explodeScale);\r\n        }\r\n    } else {\r\n        explodeMotion();\r\n        isExploding = true;\r\n    }\r\n}\r\n\r\n/**\r\n * Recursive function for calling requestAnimationFrame for explode motion\r\n */\r\n\r\nexport function explodeMotion(timestamp) {\r\n    if (!startExplosion) {\r\n        startExplosion = timestamp;\r\n    }\r\n    var progress = timestamp - startExplosion;\r\n    startExplosion = timestamp;\r\n    var explodeStep = 0.0002 * (progress || 0);\r\n    // explode outward and inward\r\n    if (outwardExplosion) {\r\n        explodeScale += explodeStep;\r\n    } else {\r\n        explodeScale -= explodeStep;\r\n    }\r\n    if (explodeScale > 1) {\r\n        outwardExplosion = false;\r\n        explodeScale = 1; // this solves when user go to another browser tab\r\n    } else if (explodeScale < 0) {\r\n        outwardExplosion = true;\r\n        explodeScale = 0; // this solves when user go to another browser tab\r\n    }\r\n    viewer.explode(explodeScale);\r\n    explosionReq = window.requestAnimationFrame(explodeMotion);\r\n};\r\n\r\n/**\r\n * recursive function for rotation motion each time page refreshes\r\n */\r\nexport function rotateMotion(timestamp) {\r\n    if (!startRotation) {\r\n        startRotation = timestamp;\r\n    }\r\n    var progress = timestamp - startRotation;\r\n    startRotation = timestamp;\r\n    var rotateStep = 0.0005 * (progress || 0);\r\n    // get the up axis\r\n    var worldUp = viewer.navigation.getWorldUpVector();\r\n    // get the current position\r\n    var pos = viewer.navigation.getPosition();\r\n    // copy that position\r\n    var position = new THREE.Vector3(pos.x, pos.y, pos.z);\r\n    // set the rotate axis\r\n    var rAxis = new THREE.Vector3(worldUp.x, worldUp.y, worldUp.z);\r\n    var matrix = new THREE.Matrix4().makeRotationAxis(rAxis, rotateStep);\r\n    //apply the new position\r\n    position.applyMatrix4(matrix);\r\n    viewer.navigation.setPosition(position);\r\n    rotationReq = window.requestAnimationFrame(rotateMotion);\r\n}\r\n\r\n\r\n/**\r\n * Toggle the rotation movement\r\n * @param  boolean cancelMotion true if motion is to be cancelled\r\n */\r\nexport function toggleRotation(cancelMotion) {\r\n    if (cancelMotion || isRotating) {\r\n        cancelAnimationFrame(rotationReq);\r\n        isRotating = false;\r\n    } else {\r\n        rotateMotion();\r\n        isRotating = true;\r\n    }\r\n}\r\n\r\nexport function stopMotion() {\r\n    toggleExplosion(true);\r\n    toggleRotation(true);\r\n}\r\n\r\n\r\nconst Helpers = {\r\n    launchViewer,\r\n    loadDocument\r\n};\r\n\r\nexport default Helpers;\r\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport React, { Component } from 'react';\nimport Helpers from './Viewer-helpers';\n\nclass Viewer extends Component {\n\n    componentDidMount() {\n        // RC Car Model\n        // var documentId = 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1JDJTIwQ2FyLmYzZA';\n        var documentId = 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6YXNpYXdvcmxkZXhwb18wMS9Bc2lhV29ybGQtRXhwb19QMDMubndk';\n        Helpers.launchViewer('viewerDiv', documentId , '0002');\n    }\n\n\trender() {\n        return (\n            <div className='forge-viewer' id=\"viewerDiv\" />\n        );\n\t}\n}\n\nexport default Viewer;\n","/////////////////////////////////////////////////////////////////////////////////\r\n// Copyright (c) Autodesk, Inc. All rights reserved\r\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\r\n//\r\n// Permission to use, copy, modify, and distribute this software in\r\n// object code form for any purpose and without fee is hereby granted,\r\n// provided that the above copyright notice appears in all copies and\r\n// that both that copyright notice and the limited warranty and\r\n// restricted rights notice below appear in all supporting\r\n// documentation.\r\n//\r\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\r\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\r\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\r\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\r\n// UNINTERRUPTED OR ERROR FREE.\r\n/////////////////////////////////////////////////////////////////////////////////\r\n\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './properties.css';\r\n\r\nclass Properties extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      collapsed: new Map()\r\n    }\r\n    \r\n  }\r\n\r\n  toggleProperty(propertyIndex, evt) {\r\n    evt.preventDefault();\r\n    const { collapsed } = this.state;\r\n    const isCollapsed = collapsed.get(propertyIndex);\r\n\r\n    this.setPropertyByIndex(propertyIndex, !isCollapsed);\r\n  }\r\n\r\n  setPropertyByIndex(index, isCollapsed) {\r\n    const { collapsed } = this.state;\r\n    collapsed.set(index, true);\r\n    this.setState({ collapsed });\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.properties.length === 1) {\r\n      this.setPropertyByIndex(0, true);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { properties } = this.props\r\n    \r\n\r\n    if (prevProps.properties === properties) {\r\n      return\r\n    }\r\n\r\n    if (properties.length === 1) {\r\n      this.setPropertyByIndex(0, true);\r\n    }\r\n  }\r\n\r\n\r\n\trender() {\r\n    const {collapsed} = this.state;\r\n\r\n\t\treturn(\r\n    <div className=\"model-properties\">\r\n      <div>\r\n        <button className=\"close-btn\" onClick={this.props.onClose}><i className=\"fa fa-close\" /></button>\r\n        <h3>Properties</h3>\r\n\r\n        {!this.props.properties.length\r\n          ? <p><em>Select a part to get started</em></p>\r\n          : null\r\n        }\r\n        <div>\r\n          <div>\r\n            {this.props.properties.map((property, i) => (\r\n             <ul key={i}>\r\n             <div >\r\n                <h4 >\r\n                  <a data-toggle=\"collapse\" onClick={this.toggleProperty.bind(this, i)}>{property.category}</a>\r\n                </h4>\r\n              </div>     \r\n                {\r\n                  collapsed.get(i)\r\n                    ? (\r\n                      <div>\r\n                        <ul>\r\n                            {property.data.map((item, itemIndex) => (\r\n                              <li key={itemIndex} >\r\n                                <strong>{item.displayName}:</strong> {item.displayValue}\r\n                              </li>\r\n                            ))}\r\n                        </ul>\r\n                      </div>\r\n                      )\r\n                    : null\r\n                }              \r\n            </ul>\r\n          ))}     \r\n            \r\n          </div>\r\n        </div>\r\n        </div>\r\n      </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nconst PropertiesComponent = connect(\r\n  state => ({ properties: state.properties })\r\n)(Properties);\r\n\r\nexport default PropertiesComponent;\r\n","import Properties from './Properties';\r\n\r\nexport default Properties;\r\n","import Jumbotron from './Jumbotron';\r\n\r\nexport default Jumbotron;\r\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport React, {Component} from 'react';\nimport './jumbotron.css';\nimport Viewer from '../Viewer/Viewer';\nimport classnames from 'classnames';\nimport scrollTo from 'scroll-to';\nimport Properties from '../Properties'\nimport {\n    viewerResize,\n    viewerExplode,\n    toggleExplosion,\n    toggleRotation,\n    stopMotion,\n    modelRestoreState,\n} from '../Viewer/Viewer-helpers';\n\nclass Jumbotron extends Component {\n\n    constructor() {\n        super();\n\n        this.state = {\n            fullscreen: false,\n            explode: false,\n            expMotion: false,\n            rotMotion: false,\n            resetState: false,\n            properties: false,\n            value: 0\n        }\n\n        this.onFullscreen = this.onFullscreen.bind(this);\n        this.onExplode = this.onExplode.bind(this);\n        this.onExplodeAnimation = this.onExplodeAnimation.bind(this);\n        this.onRotateAnimation = this.onRotateAnimation.bind(this);\n        this.onResetState = this.onResetState.bind(this);\n        this.onOrientationChange = this.onOrientationChange.bind(this);\n        this.onPropertiesDisplay = this.onPropertiesDisplay.bind(this);\n        this.handleValueChange = this.handleValueChange.bind(this);\n        this.onSelectionChange = this.onSelectionChange.bind(this);\n    }\n\n    componentDidMount() {\n        window.addEventListener('orientationchange', this.onOrientationChange);\n\n        this.setState({\n            fullScreen: false,\n            properties: false,\n        }, () => {\n            this.onFullscreen();\n            this.onPropertiesDisplay();\n        });\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('orientationchange', this.onOrientationChange);\n    }\n\n    handleValueChange(event) {\n        this.setState({\n            value: event.target.value\n        });\n        viewerExplode(this.state.value / 100);\n\n    }\n\n    onFullscreen() {\n        this.setState({fullscreen: !this.state.fullscreen}, () => {\n\n            if (this.state.fullscreen) {\n                scrollTo(0, 0, {\n                    ease: 'inQuad',\n                    duration: 300\n                });\n                document.body.classList.add('fullscreen')\n            } else {\n                document.body.classList.remove('fullscreen');\n                this.onResetState();\n                if (this.state.explode) {\n                    document.body.classList.remove('explode');\n                }\n\n                this.setState({\n                    fullscreen: false,\n                    explode: false,\n                    expMotion: false,\n                    rotMotion: false,\n                    resetState: false,\n                    properties: false,\n                    value: 0\n                })\n            }\n\n            // resize viewer after css animation\n            // setTimeout(() => viewerResize(), 300);\n            setTimeout(() => viewerResize(), 3000);\n        });\n    }\n\n    onPropertiesDisplay() {\n        this.setState({properties: !this.state.properties}, () => {\n            if (this.state.properties) {\n                document.body.classList.add('properties-show');\n            } else {\n                document.body.classList.remove('properties-show');\n            }\n        });\n    }\n\n    onExplode() {\n        this.setState({explode: !this.state.explode}, () => {\n            if (this.state.explode) {\n                document.body.classList.add('explode')\n            } else {\n                document.body.classList.remove('explode');\n            }\n        });\n    }\n\n    onOrientationChange() {\n        setTimeout(() => viewerResize(), 300);\n    }\n\n\n    onExplodeAnimation() {\n        this.setState({expMotion: !this.state.expMotion}, () => {\n            if (this.state.expMotion) {\n                document.body.classList.add('explode-motion')\n                toggleExplosion();\n            } else {\n                document.body.classList.remove('explode-motion');\n                toggleExplosion();\n            }\n        });\n    }\n\n    onRotateAnimation() {\n        this.setState({rotMotion: !this.state.rotMotion}, () => {\n            if (this.state.rotMotion) {\n                document.body.classList.add('rotate-motion')\n                toggleRotation();\n            } else {\n                document.body.classList.remove('rotate-motion');\n                toggleRotation();\n            }\n        });\n    }\n\n    onResetState() {\n        document.body.classList.remove('explode', 'explode-motion', 'rotate-motion');\n        this.setState({explode: false, expMotion: false, rotMotion: false});\n        stopMotion();\n        modelRestoreState();\n    }\n\n    onSelectionChange() {\n        if (!this.state.properties) {\n            return;\n        }\n\n        // this.setState({\n        //\n        // })\n    }\n\n    handlePropertiesClose = () => {\n        this.setState({properties: false})\n    }\n\n    render() {\n\n        const buttonClass = classnames({\n            'fa': true,\n            'fa-expand': !this.state.fullscreen,\n            'fa-compress': this.state.fullscreen,\n        });\n\n        const propertiesClass = classnames({\n            'fa': true,\n            'fa-list': this.state.fullscreen,\n        });\n\n        const explodeClass = classnames({\n            'fa': true,\n            'fa-cubes': this.state.fullscreen,\n        });\n\n        const explodeMotionClass = classnames({\n            'fa': true,\n            'fa-bomb': this.state.fullscreen,\n        });\n\n        const rotateMotionClass = classnames({\n            'fa': true,\n            'fa-repeat': this.state.fullscreen,\n        });\n\n        const resetClass = classnames({\n            'fa': true,\n            'fa-refresh': this.state.fullscreen,\n        });\n\n        const propertiesBtnClass = classnames({\n            'properties-btn': true,\n            'btn--active': this.state.properties,\n            'btn--deactive': !this.state.properties\n        })\n\n        const explodeBtnClass = classnames({\n            'explode-btn': true,\n            'btn--active': this.state.explode,\n            'btn--deactive': !this.state.explode\n        })\n\n        const explodeMotionBtnClass = classnames({\n            'explode-motion-btn': true,\n            'expbtn--active': this.state.expMotion,\n            'expbtn--deactive': !this.state.expMotion\n        })\n\n        const rotateMotionBtnClass = classnames({\n            'rotate-motion-btn': true,\n            'rotbtn--active': this.state.rotMotion,\n            'rotbtn--deactive': !this.state.rotMotion\n        })\n\n        const resetBtnClass = classnames({\n            'reset-btn': true,\n            'resetbtn--deactive': !this.state.rotMotion\n        })\n\n        return (\n            <div className=\"forge-jumbotron\">\n                <Viewer/>\n                <div className=\"forge-logo\">\n                    {/*<img src=\"images/forge-logo.png\" alt=\"Autodesk Forge\"/>*/}\n                    <img src=\"images/wordmark-fugro-quantum-blue.png\" alt=\"Fugro (Hong Kong) Limited\"/>\n                </div>\n                <div className=\"container safari-only\">\n                    {/*<button className=\"forge-btn\" onClick={this.onFullscreen}>*/}\n                    {/*<i className={buttonClass}></i>*/}\n                    {/*</button>*/}\n                    <button className={propertiesBtnClass} onClick={this.onPropertiesDisplay}>\n                        <i className={propertiesClass}></i>\n                    </button>\n                    <button className={explodeBtnClass} onClick={this.onExplode}>\n                        <i className={explodeClass}></i>\n                    </button>\n                    <button className={explodeMotionBtnClass} onClick={this.onExplodeAnimation}>\n                        <i className={explodeMotionClass}></i>\n                    </button>\n                    <button className={rotateMotionBtnClass} onClick={this.onRotateAnimation}>\n                        <i className={rotateMotionClass}></i>\n                    </button>\n                    <button className={resetBtnClass} onClick={this.onResetState}>\n                        <i className={resetClass}></i>\n                    </button>\n\n                    {\n                        this.state.properties\n                            ? <Properties onClose={this.handlePropertiesClose}/>\n                            : null\n                    }\n\n                    <input type=\"range\"\n                           className=\"range-style\"\n                           min=\"0\"\n                           max=\"100\"\n                           value={this.state.value}\n                           onChange={this.handleValueChange}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Jumbotron;\n","/////////////////////////////////////////////////////////////////////////////////\r\n// Copyright (c) Autodesk, Inc. All rights reserved\r\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\r\n//\r\n// Permission to use, copy, modify, and distribute this software in\r\n// object code form for any purpose and without fee is hereby granted,\r\n// provided that the above copyright notice appears in all copies and\r\n// that both that copyright notice and the limited warranty and\r\n// restricted rights notice below appear in all supporting\r\n// documentation.\r\n//\r\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\r\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\r\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\r\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\r\n// UNINTERRUPTED OR ERROR FREE.\r\n/////////////////////////////////////////////////////////////////////////////////\r\n\r\n// Models\r\n\r\n//Steampunk : dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1NwTTNXNy5mM2Q\r\n\r\nimport React, { Component } from 'react';\r\nimport scrollTo from 'scroll-to';\r\nimport Helpers from '../Viewer/Viewer-helpers';\r\nimport './gallery.css';\r\n\r\n\r\nconst tilesData = [\r\n  {\r\n    img: 'images/tie-fighter.png',\r\n    title: 'Fusion Tie Fighter',\r\n    key: '0001',\r\n    urn:'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1RpZV9GaWd0aGVyX1RveS5mM2Q'\r\n  },\r\n  {\r\n    img: 'images/fusion-rcar.png',\r\n    title: 'Fusion Race Car',\r\n    key: '0002',\r\n    urn: 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1JDJTIwQ2FyLmYzZA'\r\n  },\r\n  {\r\n    img: 'images/fusion-engine.png',\r\n    title: 'Fusion Engine',\r\n    key: '0003',\r\n    urn: 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1RWUi00LUN5Y2wtZW5naW5lLmYzZA'\r\n  },\r\n\r\n  {\r\n    img: 'images/revit-house.png',\r\n    title: 'Revit House',\r\n    key: '0004',\r\n    urn: 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L0hvdXNlLmR3Zng'\r\n\r\n  },\r\n  {\r\n    img: 'images/urban-house.png',\r\n    title: 'Revit Urban House',\r\n    key: '0005',\r\n    urn: 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1VyYmFuJTIwSG91c2UlMjAtJTIwMjAxNS5ydnQ'\r\n  },\r\n  {\r\n    img: 'images/revit-factory.png',\r\n    title: 'Revit Factory',\r\n    key: '0006',\r\n    urn: 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0LzNkRmFjdG9yeS5kd2Y'\r\n  },\r\n];\r\n\r\n\r\nclass Gallery extends Component {\r\n\r\n  onTileSelect(tile, e) {\r\n    e.preventDefault();\r\n\r\n    // Scroll to top\r\n    scrollTo(0, 0, {\r\n      ease: 'inQuad',\r\n      duration: 300\r\n    });\r\n\r\n    // Starts loading once it scrolls\r\n    setTimeout(\r\n      () => Helpers.launchViewer(\"viewerDiv\", tile.urn, tile.key),\r\n      300\r\n    );\r\n  }\r\n\r\n   render() {\r\n    return (\r\n      <div className=\"forge-gallery\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            {tilesData.map((tile, index) =>\r\n              (\r\n                <div className=\"col-md-4 col-xs-6 tile\" key={index}>\r\n                  <a href=\"#\" onClick={this.onTileSelect.bind(this, tile)}>\r\n                    <img className=\"tile-avatar\" src={tile.img} alt={tile.title} />\r\n                  </a>\r\n                  <div className=\"tile-title\">{tile.title}</div>\r\n                </div>\r\n              )\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n\t}\r\n}\r\n\r\nexport default Gallery;\r\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport React, { Component } from 'react';\nimport './footer.css';\n\nclass Footer extends Component {\n   render() {\n    return (\n      <div className=\"forge-footer\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-6\">\n             <a href=\"https://github.com/jaimerosales/viewer-react-express-headless\">View on GitHub <i className=\"fa fa-github\"></i></a>\n            </div>\n            <div className=\"col-xs-6 footer-copyright\">\n              &#169; 2016 Copyright Autodesk. All rights reserved.\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Footer;\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport React, {Component} from 'react';\nimport Jumbotron from './Jumbotron';\nimport Footer from './Footer';\nimport Gallery from './Gallery';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './App.css';\nimport 'font-awesome/css/font-awesome.css';\n\nclass App extends Component {\n    render() {\n        return (\n            <div>\n                <Jumbotron/>\n\n                {/*<Gallery />*/}\n\n                {/*<Footer />*/}\n            </div>\n        );\n    }\n}\n\nexport default App;\n","/////////////////////////////////////////////////////////////////////////////////\r\n// Copyright (c) Autodesk, Inc. All rights reserved\r\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\r\n//\r\n// Permission to use, copy, modify, and distribute this software in\r\n// object code form for any purpose and without fee is hereby granted,\r\n// provided that the above copyright notice appears in all copies and\r\n// that both that copyright notice and the limited warranty and\r\n// restricted rights notice below appear in all supporting\r\n// documentation.\r\n//\r\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\r\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\r\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\r\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\r\n// UNINTERRUPTED OR ERROR FREE.\r\n/////////////////////////////////////////////////////////////////////////////////\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  (\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  ),\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}