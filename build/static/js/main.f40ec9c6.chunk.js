(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(73)},37:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"GET_AGGREGATE_PROPERTIES",function(){return y});var i={};n.r(i),n.d(i,"getViewerProperties",function(){return h});var o=n(0),a=n.n(o),c=n(11),l=n.n(c),s=n(2),u=n(3),p=n(6),d=n(4),m=n(5),v=n(9),g=(n(37),n(15)),f=n(18),y="GET_AGGREGATE_PROPERTIES";function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:y,properties:e}}var E=n(14),b={properties:[]};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_AGGREGATE_PROPERTIES:var n=t.properties;return Object(g.a)({},e,{properties:n});default:return e}},O=Object(E.b)(k),w=O,Y=n(31),L=n.n(Y);var N,j={accessToken:{getaccesstoken:function(){return L.a.get("/token").then(function(e){return e.data}).catch(function(e){console.log(e)})}}.getaccesstoken()};function J(e){Autodesk.Viewing.Document.load(e,function(e){var t=Autodesk.Viewing.Document.getSubItemsWithProperties(e.getRootItem(),{type:"geometry"},!0);t.length>0&&(t.forEach(function(e,t){}),N.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT,V),N.addEventListener(Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,Object(f.debounce)(function(){console.log("selection change"),new Promise(function(e,t){var n=N.getSelection()[0];return 1!==N.getSelectionCount()?t("Invalid selection count"):new Promise(function(e){N.model.getProperties(n,function(t){var n=t.properties.filter(function(e){return!e.hidden});e(n)})}).then(function(t){t=t.map(function(e){return Object(g.a)({},e,{displayCategory:e.displayCategory||"Miscellaneous"})});var n=Object(f.uniq)(t.map(function(e){return e.displayCategory})),r=n.map(function(e){return{category:e,data:t.filter(function(t){return t.displayCategory===e})}});e(r)})}).then(function(e){return O.dispatch(i.getViewerProperties(e))}).catch(function(){return O.dispatch(i.getViewerProperties([]))})}),200),N.load(e.getViewablePath(t[0])))},function(e){console.log(e)})}function V(e){var t=e.target;t.removeEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT,V),t.fitToView(),t.setQualityLevel(!1,!1)}function P(){N.resize()}var T={launchViewer:function(e,t,n){n,j.accessToken.then(function(n){var r={document:t,env:"AutodeskProduction",accessToken:n.access_token},i=document.getElementById(e);N=new Autodesk.Viewing.Viewer3D(i,{}),Autodesk.Viewing.Initializer(r,function(){N.initialize(),N.prefs.tag("ignore-producer"),J(r.document)})})},loadDocument:J},X=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){T.launchViewer("viewerDiv","urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6YXNpYXdvcmxkZXhwb18wMS9Bc2lhV29ybGQtRXhwb19QMDMubndk","0002")}},{key:"render",value:function(){return a.a.createElement("div",{className:"forge-viewer",id:"viewerDiv"})}}]),t}(o.Component),C=n(20),A=n.n(C),G=n(12),R=n.n(G),D=n(13),F=(n(67),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={collapsed:new Map},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"toggleProperty",value:function(e,t){t.preventDefault();var n=this.state.collapsed.get(e);this.setPropertyByIndex(e,!n)}},{key:"setPropertyByIndex",value:function(e,t){var n=this.state.collapsed;n.set(e,!0),this.setState({collapsed:n})}},{key:"componentDidMount",value:function(){1===this.props.properties.length&&this.setPropertyByIndex(0,!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props.properties;e.properties!==t&&1===t.length&&this.setPropertyByIndex(0,!0)}},{key:"render",value:function(){var e=this,t=this.state.collapsed;return a.a.createElement("div",{className:"model-properties"},a.a.createElement("div",null,a.a.createElement("button",{className:"close-btn",onClick:this.props.onClose},a.a.createElement("i",{className:"fa fa-close"})),a.a.createElement("h3",null,"Properties"),this.props.properties.length?null:a.a.createElement("p",null,a.a.createElement("em",null,"Select a part to get started")),a.a.createElement("div",null,a.a.createElement("div",null,this.props.properties.map(function(n,r){return a.a.createElement("ul",{key:r},a.a.createElement("div",null,a.a.createElement("h4",null,a.a.createElement("a",{"data-toggle":"collapse",onClick:e.toggleProperty.bind(e,r)},n.category))),t.get(r)?a.a.createElement("div",null,a.a.createElement("ul",null,n.data.map(function(e,t){return a.a.createElement("li",{key:t},a.a.createElement("strong",null,e.displayName,":")," ",e.displayValue)}))):null)})))))}}]),t}(o.Component)),z=Object(D.b)(function(e){return{properties:e.properties}})(F),W=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).handlePropertiesClose=function(){e.setState({properties:!1})},e.state={fullscreen:!1,properties:!1},e.onFullscreen=e.onFullscreen.bind(Object(v.a)(e)),e.onPropertiesDisplay=e.onPropertiesDisplay.bind(Object(v.a)(e)),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.onFullscreen(),window.addEventListener("orientationchange",this.onOrientationChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("orientationchange",this.onOrientationChange)}},{key:"onFullscreen",value:function(){this.setState({fullscreen:!0},function(){R()(0,0,{ease:"inQuad",duration:300}),document.body.classList.add("fullscreen"),setTimeout(function(){return P()},1e3)})}},{key:"onPropertiesDisplay",value:function(){this.setState({properties:!0},function(){document.body.classList.add("properties-show")})}},{key:"onOrientationChange",value:function(){setTimeout(function(){return P()},300)}},{key:"render",value:function(){var e=A()({fa:!0,"fa-list":this.state.fullscreen}),t=A()({"properties-btn":!0,"btn--active":this.state.properties,"btn--deactive":!this.state.properties});return a.a.createElement("div",{className:"forge-jumbotron"},a.a.createElement(X,null),a.a.createElement("div",{className:"forge-logo"},a.a.createElement("img",{src:"images/wordmark-fugro-quantum-blue.png",alt:"Fugro (Hong Kong) Limited"})),a.a.createElement("div",{className:"container safari-only"},a.a.createElement("button",{className:t,onClick:this.onPropertiesDisplay},a.a.createElement("i",{className:e})),this.state.properties?a.a.createElement(z,{onClose:this.handlePropertiesClose}):null))}}]),t}(o.Component),I=(n(68),o.Component,n(69),[{img:"images/tie-fighter.png",title:"Fusion Tie Fighter",key:"0001",urn:"urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1RpZV9GaWd0aGVyX1RveS5mM2Q"},{img:"images/fusion-rcar.png",title:"Fusion Race Car",key:"0002",urn:"urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1JDJTIwQ2FyLmYzZA"},{img:"images/fusion-engine.png",title:"Fusion Engine",key:"0003",urn:"urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1RWUi00LUN5Y2wtZW5naW5lLmYzZA"},{img:"images/revit-house.png",title:"Revit House",key:"0004",urn:"urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L0hvdXNlLmR3Zng"},{img:"images/urban-house.png",title:"Revit Urban House",key:"0005",urn:"urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1VyYmFuJTIwSG91c2UlMjAtJTIwMjAxNS5ydnQ"},{img:"images/revit-factory.png",title:"Revit Factory",key:"0006",urn:"urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0LzNkRmFjdG9yeS5kd2Y"}]),S=(o.Component,n(70),n(71),n(72),function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(W,null))}}]),t}(o.Component));l.a.render(a.a.createElement(D.a,{store:w},a.a.createElement(S,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.f40ec9c6.chunk.js.map